# =============================================================================
# LEAP ARCHITECTURE
# =============================================================================
# This describes LEAP - the governance and Gold Source maintenance project.
# For scaffold/demo architecture, see: 2_GoldSource/meta/ARCHITECTURE.yaml
# =============================================================================

metadata:
  type: "architecture"
  name: "LEAP Architecture"
  purpose: "System architecture for the LEAP governance project"
  version: "1.0.0"
  created: "2026-01-19"
  lastUpdated: "2026-01-19"
  status: "active"

# =============================================================================
# WHAT IS LEAP?
# =============================================================================

overview:
  name: "LEAP (Living Engineering of Agentic Prototypes)"
  purpose: "Maintain Gold Source scaffold and improve it through AI-assisted demo creation"
  
  threeLayerModel:
    LEAP:
      description: "This project - governance, phases, Gold Source maintenance"
      location: "This repository"
    
    Factory:
      description: "AI-assisted demo creation workflow (runs in separate AI session)"
      entryPoint: "2_GoldSource/governance/FACTORY_README.yaml"
    
    Demo:
      description: "Final product created by Factory (e.g., NEXUS demos)"
      location: "External to this repo (e.g., ~/Documents/DemoOutput/)"

# =============================================================================
# FOLDER STRUCTURE
# =============================================================================

folderStructure:
  
  Governance:
    path: "1_LEAP/1_Governance/"
    purpose: "LEAP governance rules, protocols, and templates"
    contents:
      - "constitution.yaml - Core rules"
      - "pulse-protocol.yaml - Phase/stage lifecycle"
      - "checklists/ - Session and peer review checklists"
      - "templates/ - LEAP artifact templates"
      - "tracking/ - Current state, backlog, bugs"
  
  GoldSource:
    path: "2_GoldSource/"
    purpose: "The master copy used by Factory to create demos"
    contents:
      - "scaffold/ - Demo code (HTML, JS, CSS)"
      - "meta/ - Architecture and standards for scaffold"
      - "governance/ - Factory-specific protocols"
      - "archetypes/ - UI pattern templates"
    architectureRef: "2_GoldSource/meta/ARCHITECTURE.yaml"
  
  docs:
    path: "4_Phases/"
    purpose: "Phase history and artifacts"
    structure: "4_Phases/phase-N/*.yaml"

# =============================================================================
# LIFECYCLE
# =============================================================================

lifecycle:
  description: "LEAP uses phases with 8 stages each"
  
  stages:
    1: "Discovery - Identify what to build"
    2: "Research - Gather information"
    3: "Analysis - Risk assessment, approach selection"
    4: "Design - Implementation plan"
    5: "Implementation - Build it"
    6: "Delivery - Package and document"
    7: "Testing - Verify it works"
    8: "Closure - Lessons learned"
  
  protocol: "1_LEAP/1_Governance/pulse-protocol.yaml"
  currentState: "1_LEAP/1_Governance/tracking/CURRENT_STATE.yaml"

# =============================================================================
# KEY ENTRY POINTS (FOR AI)
# =============================================================================

entryPoints:
  
  startingNewSession:
    action: "Read CURRENT_STATE.yaml first"
    location: "1_LEAP/1_Governance/tracking/CURRENT_STATE.yaml"
  
  understandingRules:
    action: "Read constitution and protocols"
    files:
      - "1_LEAP/1_Governance/constitution.yaml"
      - "1_LEAP/1_Governance/pulse-protocol.yaml"
  
  creatingDemo:
    action: "Use /newfactory command"
    workflow: "3_FactoryTesting/initiate-factory.yaml"
  
  understandingScaffold:
    action: "Read scaffold architecture"
    location: "2_GoldSource/meta/ARCHITECTURE.yaml"

# =============================================================================
# FEEDBACK LOOP
# =============================================================================

feedbackLoop:
  description: "LEAP improves through factory runs"
  
  cycle:
    1: "Factory creates demo using Gold Source"
    2: "Factory captures lessons learned in closure"
    3: "LEAP reviews factory artifacts"
    4: "LEAP updates Gold Source and governance"
    5: "Next factory run benefits from improvements"
  
  artifacts:
    factoryWorkspace: "~/Documents/DemoInstances/Factory-*/stage-8-closure.yaml"
    backlog: "1_LEAP/1_Governance/tracking/backlog.yaml"
