metadata:
  type: "state"
  purpose: "Single source of truth for current LEAP work"
  lastUpdated: "2026-01-22T10:53:00Z"
  version: "5.6.0"

aiMustRead:
  - "READ THIS FILE FIRST - at start of every session"
  - "This tells you exactly where we are"
  - "Never assume - check this file for truth"
  - "Update this after every major decision or phase transition"

projectContext:
  name: "LEAP"
  tagline: "AI-First DemoFactory Build & Control Project"
  version: "v1.1.0"
  currentFocus: "Phase 30 - LEAP-038 Data Conventions implementation"
  vision: "AI Speed + Governance Rigor - see Tracking/VISION.yaml"

currentPhase:
  number: "30"
  name: "DataConventionsImplementation"
  status: "in-progress"
  stage: 2
  stageName: "Implementation"
  startedDate: "2026-01-22T10:43:00Z"
  completedDate: null
  
  goal: "Implement SPEC-004 Data Conventions - ring-fenced data patterns"
  
  spec: "SPEC-004-data-conventions.yaml"
  prototype: null
  workflow: "specOnly"
  
  summary: |
    Implementing Firestore data conventions (LEAP-038):
    - FR-001: User profile with lastLoginAt ✅
    - FR-002: User preferences storage ✅
    - FR-003: Ring-fenced data documented ✅
    - FR-004: Data service template pattern ✅
    - FR-005: Theme preference sync ✅
  
  previousPhase:
    number: "29"
    name: "AuthenticationSystemImplementation"
    status: "complete"
    completedDate: "2026-01-22T03:06:00Z"
    closure: "4_Phases/phase-29/stage-8-closure.yaml"

currentActivity:
  status: "stage-2-implementation"
  summary: "Core services and documentation implemented. Ready for verification."
  
  recentWork:
    date: "2026-01-22"
    session: "LEAP-038 Data Conventions"
    description: |
      Created:
      - core/user-service.js (profile CRUD, preferences, ring-fencing)
      - docs/DATA_CONVENTIONS.md (pattern documentation)
      
      Modified:
      - core/auth-service.js (lastLoginAt, preference loading)
      - core/theme-manager.js (Firestore sync with fallback)
      - meta/ARCHITECTURE.yaml (firestoreConventions section)
      - meta/architectural-standards.yaml (dataServicePattern section)

factoryRuns:
  location: "3_FactoryTesting/INDEX.yaml"
  note: "See 3_FactoryTesting/INDEX.yaml for completed runs history"

references:
  governanceFiles:
    - "constitution.yaml - Partnership rules"
    - "pulse-protocol.yaml - Development methodology"
    - "safety-protocol.yaml - Backup and deployment"
    - "architectural-standards.yaml - Code patterns"
