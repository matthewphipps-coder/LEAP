# Stage T-6: Vision
# DISCO-002: NEXUS Integration Layer

stage:
  id: "T-6"
  name: "Vision"
  status: "complete"
  completedAt: "2026-01-23T11:14:00Z"
  method: "retroactive"

vision:
  title: "SoR-Agnostic Integration Layer for NEXUS"
  
  problem: |
    NEXUS (the AI-native workbench from DISCO-001) needs to communicate with 
    backend Systems of Record (ServiceNow, Salesforce, SAP, etc.) in both directions:
    - Human initiates → AI responds using SoR data
    - SoR pushes → Human receives new work or updates
    
    Currently there's no defined integration protocol between NEXUS and any SoR.

  goal: |
    Define a standard event-based integration layer where:
    - NEXUS speaks a universal event language
    - Each SoR has an adapter that translates to/from the standard
    - Swapping SoRs requires only a new adapter, not NEXUS changes

  scenarios:
    - id: 1
      name: "User-Initiated Activity"
      direction: "Human → AI"
      trigger: "User types message in NEXUS"
      flow: "NEXUS → AI (intent) → MCP tools → Response"
    
    - id: 2
      name: "Resume Conversation"
      direction: "Human → AI"
      trigger: "User clicks existing activity card"
      flow: "Card opens → Conversation resumes with context"
    
    - id: 3
      name: "New Work Arrives"
      direction: "SoR → Human"
      trigger: "SoR has new work for user"
      flow: "SoR pushes activity.new → Card appears on canvas"
    
    - id: 4
      name: "Existing Work Updated"
      direction: "SoR → Human"
      trigger: "SoR updates existing item"
      flow: "SoR pushes activity.update → Card updates/alerts"

  constraints:
    - "Must work with any SoR, not just ServiceNow"
    - "Must support bidirectional communication"
    - "NEXUS must persist cards locally (Firebase)"
    - "No offline mode - fail gracefully if SoR unavailable"
