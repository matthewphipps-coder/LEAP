<!DOCTYPE html>
<html lang="en">
<!--
  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  â•‘  NEXUS WORKBENCH - GoldSource Standard Template v3.0                     â•‘
  â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â•‘
  â•‘  Purpose: AI-Native Form Evolution UI Reference                          â•‘
  â•‘  Spec:    DISCO-001 (Extensible AI Form Evolution)                       â•‘
  â•‘  Theme:   Light/Dark (via .light-theme class on body)                   â•‘
  â•‘  Updated: 2026-01-25 - Aligned with GoldSource tokens                   â•‘
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS Workbench | GoldSource v3.0</title>

    <!-- GoldSource Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           GOLDSOURCE DESIGN TOKENS (from variables.css)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        :root {
            /* Colors - GoldSource Standard */
            --bg-primary: #0a0a0c;
            --accent-primary: #62d84e;
            --accent-glow: rgba(98, 216, 78, 0.2);
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --text-tertiary: #4b5563;

            /* Semantic Colors */
            --success: #22c55e;
            --error: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;

            /* Glassmorphism - GoldSource Standard */
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-blur: 20px;
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);

            /* Typography - GoldSource Standard */
            --font-heading: 'Outfit', sans-serif;
            --font-body: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

            /* Spacing - GoldSource Standard */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;

            /* Border Radius - GoldSource Standard */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 24px;
            --radius-full: 9999px;

            /* Transitions - GoldSource Standard */
            --transition-fast: 150ms ease-out;
            --transition-normal: 300ms ease-out;
            --transition-slow: 500ms ease-out;

            /* Z-Index - GoldSource Standard */
            --z-modal-backdrop: 300;
            --z-modal: 400;

            /* Workbench-specific (extend GoldSource) */
            --spring: cubic-bezier(0.19, 1, 0.22, 1);
            --glass-bg-heavy: rgba(13, 17, 23, 0.92);
            --pill-bg: rgba(255, 255, 255, 0.04);
        }

        /* Light Theme Override - GoldSource Standard */
        .light-theme {
            --bg-primary: #f8fafc;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --text-tertiary: #94a3b8;

            --glass-bg: rgba(255, 255, 255, 0.88);
            --glass-bg-heavy: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(0, 0, 0, 0.08);
            --glass-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);

            --accent-primary: #22c55e;
            --accent-glow: rgba(34, 197, 94, 0.15);
            --pill-bg: rgba(0, 0, 0, 0.03);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESET & BASE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-primary);
            font-family: var(--font-body);
            color: var(--text-primary);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        .hidden {
            display: none !important;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MODAL BACKDROP (Full Screen Overlay)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .workbench-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: var(--z-modal-backdrop);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-normal), visibility var(--transition-normal);
        }

        .workbench-backdrop.open {
            opacity: 1;
            visibility: visible;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           WORKBENCH CONTAINER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .workbench {
            width: 90vw;
            max-width: 1400px;
            height: 85vh;
            max-height: 900px;
            background: var(--glass-bg-heavy);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur));
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            display: flex;
            flex-direction: column;
            box-shadow: var(--glass-shadow), 0 40px 100px -20px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            position: relative;
            z-index: var(--z-modal);

            /* Animation: Bloom from origin */
            transform-origin: var(--origin-x, 50%) var(--origin-y, 50%);
            opacity: 0;
            transform: scale(0.3);
            filter: blur(10px);
            transition:
                opacity 0.5s var(--spring),
                transform 0.6s var(--spring),
                filter 0.5s ease;
        }

        .workbench-backdrop.open .workbench {
            opacity: 1;
            transform: scale(1);
            filter: blur(0);
        }

        .workbench-backdrop.closing .workbench {
            opacity: 0;
            transform: scale(0.2);
            filter: blur(15px);
            transition:
                opacity 0.4s ease-out,
                transform 0.5s ease-in,
                filter 0.4s ease-out;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           WINDOW CONTROL: CLOSE BUTTON
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .window-ctrl {
            position: absolute;
            top: var(--space-lg);
            right: var(--space-lg);
            z-index: 1000;
        }

        .btn-close {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-full);
            background: var(--pill-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-secondary);
            display: grid;
            place-items: center;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .btn-close:hover {
            background: rgba(239, 68, 68, 0.15);
            color: var(--error);
            border-color: rgba(239, 68, 68, 0.3);
            transform: scale(1.08);
        }

        .btn-close:active {
            transform: scale(0.92);
        }

        .btn-close svg {
            transition: transform 0.2s var(--spring);
        }

        .btn-close:hover svg {
            transform: rotate(90deg);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TOP BAR: Header
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .top-bar {
            padding: var(--space-lg) var(--space-xl);
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            flex-shrink: 0;
        }

        .top-row-1 {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .record-id {
            font-size: var(--text-xs);
            color: var(--text-tertiary);
            font-weight: 600;
            opacity: 0.6;
            flex-shrink: 0;
        }

        .short-desc {
            font-size: var(--text-base);
            color: var(--text-primary);
            font-weight: 500;
            flex-grow: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .top-row-2 {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            flex-wrap: wrap;
        }

        .pill-group {
            display: flex;
            gap: 5px;
            flex-shrink: 0;
        }

        .pill {
            font-size: 0.55rem;
            font-weight: 700;
            text-transform: uppercase;
            padding: var(--space-xs) 10px;
            border-radius: var(--space-xs);
            transition: all var(--transition-normal);
        }

        .pill--status {
            color: var(--text-secondary);
            background: var(--pill-bg);
            border: 1px solid var(--glass-border);
        }

        .pill--metric {
            color: var(--text-tertiary);
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: var(--space-xs) var(--space-sm);
        }

        .pill--metric.highlight {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
            background: var(--accent-glow);
        }

        .chain-sep {
            color: var(--text-tertiary);
            font-size: 0.8rem;
            opacity: 0.5;
            margin: 0 var(--space-xs);
        }

        .pill--assignment {
            font-size: 0.65rem;
            padding: var(--space-xs) 10px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--glass-border);
            color: var(--text-secondary);
            border-radius: 10px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN CONTENT: Two-Column Layout
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           LEFT PANE: AI Chat
           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .pane-left {
            flex: 0 0 50%;
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--glass-border);
            background: rgba(0, 0, 0, 0.05);
        }

        .chat-stream {
            flex: 1;
            padding: var(--space-lg) var(--space-xl);
            display: flex;
            flex-direction: column;
            gap: 14px;
            overflow-y: auto;
        }

        .msg {
            max-width: 85%;
            padding: var(--space-md) 18px;
            border-radius: 14px;
            font-size: var(--text-sm);
            line-height: 1.5;
            animation: msg-in var(--transition-normal) backwards;
            border: 1px solid transparent;
        }

        @keyframes msg-in {
            from {
                opacity: 0;
                transform: translateX(-5px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .msg--ai {
            align-self: flex-start;
            background: var(--pill-bg);
            border: 1px solid var(--glass-border);
            border-bottom-left-radius: var(--space-xs);
            color: var(--text-secondary);
        }

        .msg--human {
            align-self: flex-end;
            background: var(--pill-bg);
            border: 1px solid var(--accent-primary);
            color: var(--text-primary);
            font-weight: 500;
            border-bottom-right-radius: var(--space-xs);
            box-shadow: 0 0 15px var(--accent-glow);
        }

        /* Input Area */
        .input-area {
            padding: var(--space-lg) var(--space-xl);
            border-top: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .brand-light {
            font-family: var(--font-heading);
            font-size: var(--text-sm);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--text-secondary);
            flex-shrink: 0;
        }

        .brand-dot {
            width: 7px;
            height: 7px;
            background: var(--accent-primary);
            border-radius: var(--radius-full);
            box-shadow: 0 0 8px var(--accent-primary);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .input-capsule {
            display: flex;
            align-items: center;
            flex: 1;
            background: var(--pill-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            padding: var(--space-sm) var(--space-md);
            gap: var(--space-md);
        }

        .input-capsule input {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            font-size: var(--text-sm);
            color: var(--text-primary);
            font-family: var(--font-body);
        }

        .input-capsule input::placeholder {
            color: var(--text-tertiary);
        }

        .input-btns {
            display: flex;
            gap: 10px;
            color: var(--text-tertiary);
            align-items: center;
            font-size: var(--text-sm);
        }

        .tool-icon {
            cursor: pointer;
            opacity: 0.6;
            transition: opacity var(--transition-fast), color var(--transition-fast);
        }

        .tool-icon:hover {
            opacity: 1;
            color: var(--text-primary);
        }

        .btn-send {
            width: 28px;
            height: 28px;
            background: var(--pill-bg);
            border: 1px solid var(--glass-border);
            border-radius: 6px;
            display: grid;
            place-items: center;
            cursor: pointer;
            transition: all var(--transition-fast);
            color: var(--text-tertiary);
        }

        .btn-send:hover {
            background: var(--accent-glow);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
            transform: scale(1.05);
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           RIGHT PANE: Dynamic Fields
           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .pane-right {
            flex: 0 0 50%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .pane-scroll {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-lg) var(--space-xl) 120px var(--space-xl);
        }

        .section-label {
            font-size: 0.55rem;
            font-weight: 800;
            color: var(--text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.12em;
            margin: 0 0 var(--space-md) 0;
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .section-label::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--glass-border);
        }

        .section-label:not(:first-child) {
            margin-top: var(--space-lg);
        }

        .pill-grid {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
        }

        .field-pill {
            padding: 6px var(--space-md);
            background: var(--pill-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
            color: var(--text-secondary);
            display: flex;
            flex-direction: column;
            gap: 2px;
            min-width: 90px;
            flex: 1 1 auto;
            animation: pill-in var(--transition-normal) backwards;
        }

        @keyframes pill-in {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .field-pill--half {
            flex: 1 1 calc(50% - var(--space-xs));
            max-width: calc(50% - var(--space-xs));
        }

        .field-pill--third {
            flex: 1 1 calc(33% - 6px);
            max-width: calc(33% - 6px);
        }

        .field-pill--quarter {
            flex: 1 1 calc(25% - 6px);
            max-width: calc(25% - 6px);
        }

        .field-pill--full {
            flex: 1 1 100%;
        }

        .field-pill__label {
            font-size: 0.5rem;
            font-weight: 700;
            color: var(--text-tertiary);
            text-transform: uppercase;
        }

        .field-pill__value {
            color: var(--text-secondary);
        }

        .field-pill__value--large {
            min-height: 50px;
            line-height: 1.4;
            white-space: pre-wrap;
        }

        /* Ghost State (AI Proposal) */
        .field-pill--ghost {
            background: var(--accent-glow);
            border-color: var(--accent-primary);
        }

        .field-pill--ghost .field-pill__value {
            color: var(--accent-primary);
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           ACTION TRAY (Floating)
           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .action-tray {
            position: absolute;
            bottom: var(--space-lg);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: var(--space-md);
            animation: tray-slide 0.4s var(--spring);
        }

        @keyframes tray-slide {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        .btn-action {
            padding: 10px var(--space-lg);
            border-radius: 10px;
            font-family: var(--font-heading);
            font-weight: 700;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: transform var(--transition-normal), filter var(--transition-normal);
            border: none;
        }

        .btn-action--primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--success));
            color: var(--bg-primary);
            box-shadow: 0 8px 16px var(--accent-glow);
        }

        .btn-action--secondary {
            background: var(--pill-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-secondary);
        }

        .btn-action:hover {
            transform: translateY(-2px);
            filter: brightness(1.1);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DEMO: Fake Shell (for prototype testing only)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .demo-shell {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
        }

        .demo-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 64px;
            background: var(--glass-bg);
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            padding: 0 var(--space-lg);
            font-family: var(--font-heading);
            font-weight: 600;
            color: var(--text-secondary);
        }

        .demo-sidebar {
            position: absolute;
            top: 84px;
            left: var(--space-lg);
            width: 68px;
            height: calc(100vh - 100px);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
        }

        .demo-trigger {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: var(--space-md) var(--space-xl);
            background: var(--accent-primary);
            color: var(--bg-primary);
            border: none;
            border-radius: var(--radius-md);
            font-family: var(--font-heading);
            font-weight: 600;
            cursor: pointer;
            pointer-events: auto;
        }
    </style>
</head>

<body>
    <!-- Demo Shell (simulates GoldSource header/sidebar) -->
    <div class="demo-shell">
        <div class="demo-header">NEXUS Demo Shell (Header)</div>
        <div class="demo-sidebar"></div>
        <button class="demo-trigger" id="demo-trigger">Click Card to Open Workbench</button>
    </div>

    <!-- Workbench Modal -->
    <div class="workbench-backdrop" id="workbench-backdrop">
        <div class="workbench" id="workbench">
            <!-- Close Button -->
            <div class="window-ctrl">
                <button class="btn-close" id="btn-close" aria-label="Close workbench">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <!-- Top Bar -->
            <header class="top-bar">
                <div class="top-row-1">
                    <span class="record-id" data-field="number"></span>
                    <span class="short-desc" data-field="short_description"></span>
                </div>
                <div class="top-row-2">
                    <div class="pill-group">
                        <span class="pill pill--status" data-field="state"></span>
                        <span class="pill pill--metric" data-field="priority"></span>
                        <span class="pill pill--metric" data-field="impact"></span>
                        <span class="pill pill--metric" data-field="urgency"></span>
                    </div>
                    <span class="chain-sep">|</span>
                    <span class="pill pill--assignment" data-field="assignment_group"></span>
                    <span class="chain-sep">â€º</span>
                    <span class="pill pill--assignment" data-field="assigned_to"></span>
                </div>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Left Pane: AI Chat -->
                <section class="pane-left">
                    <div class="chat-stream" id="chat-stream">
                        <!-- Messages injected via API -->
                    </div>
                    <div class="input-area">
                        <div class="brand-light">
                            <div class="brand-dot"></div>
                            Now Assist
                        </div>
                        <div class="input-capsule">
                            <input type="text" placeholder="How can I help?" aria-label="Chat input">
                            <div class="input-btns">
                                <span class="tool-icon" title="Attach file">ğŸ“‚</span>
                                <span class="tool-icon" title="Voice input">ğŸ¤</span>
                                <button class="btn-send" aria-label="Send message">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="22" y1="2" x2="11" y2="13"></line>
                                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Right Pane: Dynamic Fields -->
                <section class="pane-right">
                    <div class="pane-scroll" id="dynamic-pane">
                        <div class="section-label" data-section="context">Context</div>
                        <div class="pill-grid" data-grid="context"></div>

                        <div class="section-label hidden" data-section="location">Location</div>
                        <div class="pill-grid hidden" data-grid="location"></div>

                        <div class="section-label hidden" data-section="detail">Detail</div>
                        <div class="pill-grid hidden" data-grid="detail"></div>

                        <div class="section-label hidden" data-section="proposal">Proposal</div>
                        <div class="pill-grid hidden" data-grid="proposal"></div>
                    </div>

                    <!-- Action Tray -->
                    <div class="action-tray hidden" id="action-tray">
                        <button class="btn-action btn-action--secondary">Cancel</button>
                        <button class="btn-action btn-action--primary">Approve Update</button>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        /**
         * NEXUS Workbench Controller - GoldSource v3.0
         * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         * Aligned with GoldSource patterns (variables.css, design-system.yaml)
         * Trigger: Click on card in My Work dashboard
         */

        const backdrop = document.getElementById('workbench-backdrop');
        const workbench = document.getElementById('workbench');
        const btnClose = document.getElementById('btn-close');

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // ANIMATION: Open from click origin
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function openWorkbench(originX = 50, originY = 50) {
            workbench.style.setProperty('--origin-x', `${originX}%`);
            workbench.style.setProperty('--origin-y', `${originY}%`);
            backdrop.classList.remove('closing');
            requestAnimationFrame(() => backdrop.classList.add('open'));
            // Focus trap - move focus into workbench
            setTimeout(() => btnClose.focus(), 100);
        }

        function closeWorkbench() {
            backdrop.classList.remove('open');
            backdrop.classList.add('closing');
            setTimeout(() => backdrop.classList.remove('closing'), 500);
        }

        // Event Listeners
        btnClose.addEventListener('click', closeWorkbench);
        backdrop.addEventListener('click', (e) => {
            if (e.target === backdrop) closeWorkbench();
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && backdrop.classList.contains('open')) {
                closeWorkbench();
            }
        });

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // API: Populate fields
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function setField(fieldName, value) {
            const el = document.querySelector(`[data-field="${fieldName}"]`);
            if (el) el.textContent = value;
        }

        function highlightField(fieldName, highlight = true) {
            const el = document.querySelector(`[data-field="${fieldName}"]`);
            if (el) el.classList.toggle('highlight', highlight);
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // API: Render dynamic sections
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function renderSection(sectionName, fields) {
            const label = document.querySelector(`[data-section="${sectionName}"]`);
            const grid = document.querySelector(`[data-grid="${sectionName}"]`);
            if (!label || !grid) return;

            grid.innerHTML = '';
            if (fields.length > 0) {
                fields.forEach((f, i) => {
                    const pill = document.createElement('div');
                    pill.className = `field-pill field-pill--${f.size || 'auto'} ${f.ghost ? 'field-pill--ghost' : ''}`;
                    pill.style.animationDelay = `${i * 50}ms`;
                    pill.innerHTML = `
                        <span class="field-pill__label">${f.label}</span>
                        <span class="field-pill__value ${f.large ? 'field-pill__value--large' : ''}">${f.value}</span>
                    `;
                    grid.appendChild(pill);
                });
                label.classList.remove('hidden');
                grid.classList.remove('hidden');
            } else {
                label.classList.add('hidden');
                grid.classList.add('hidden');
            }
        }

        function showActionTray(show = true) {
            document.getElementById('action-tray').classList.toggle('hidden', !show);
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // API: Add chat message
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function addMessage(role, text) {
            const stream = document.getElementById('chat-stream');
            const msg = document.createElement('div');
            msg.className = `msg msg--${role}`;
            msg.textContent = text;
            stream.appendChild(msg);
            stream.scrollTop = stream.scrollHeight;
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Expose API for external use
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        window.NEXUS = {
            openWorkbench,
            closeWorkbench,
            setField,
            highlightField,
            renderSection,
            showActionTray,
            addMessage
        };

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // DEMO: Click trigger to simulate card click
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        document.getElementById('demo-trigger').addEventListener('click', (e) => {
            const rect = e.target.getBoundingClientRect();
            const originX = ((rect.left + rect.width / 2) / window.innerWidth) * 100;
            const originY = ((rect.top + rect.height / 2) / window.innerHeight) * 100;

            openWorkbench(originX, originY);

            // Demo: Populate with sample data
            setField('number', 'INC0012345');
            setField('short_description', 'Network connectivity issues in Building A');
            setField('state', 'In Progress');
            setField('priority', 'P2');
            setField('impact', 'High');
            setField('urgency', 'Medium');
            setField('assignment_group', 'Network Operations');
            setField('assigned_to', 'Jane Smith');

            renderSection('context', [
                { label: 'Category', value: 'Network', size: 'third' },
                { label: 'Subcategory', value: 'Connectivity', size: 'third' },
                { label: 'CI', value: 'RTR-BldgA-01', size: 'third' },
                { label: 'Description', value: 'Users in Building A Floor 3 are experiencing intermittent network drops since 9:00 AM.', size: 'full', large: true }
            ]);

            addMessage('ai', 'I see this is a network connectivity issue in Building A. I\'ve analyzed similar incidents and have some suggestions.');
            addMessage('human', 'What do you recommend?');
            addMessage('ai', 'Based on the pattern, this could be related to the switch RTR-BldgA-01. I recommend checking the port status and recent config changes. Would you like me to update the work notes?');
        });

        // Theme toggle for testing
        document.addEventListener('keydown', (e) => {
            if (e.key === 't' && !e.ctrlKey && !e.metaKey) {
                document.body.classList.toggle('light-theme');
            }
        });
    </script>
</body>

</html>