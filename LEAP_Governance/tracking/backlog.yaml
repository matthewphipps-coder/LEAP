metadata:
  type: "tracking"
  name: "LEAP Feature Backlog"
  purpose: "Feature roadmap and priorities"
  version: "3.0.0"
  created: "2026-01-16"
  lastUpdated: "2026-01-21"
  status: "active"

summary:
  totalItems: 52
  immediate: 8
  shortTerm: 44
  mediumTerm: 0
  future: 0
  
  statusBreakdown:
    complete: 40
    proposed: 6
    inProgress: 0
    superseded: 6
  
  note: "Phase 25 completed LEAP-040 (2026-01-21)"
  
  categoriesRef: "LEAP_Governance/tracking/backlog-categories.yaml"

priorities:
  immediate:
    - id: "GOV-001"
      name: "AI Task Tracking Guidance"
      category: "governance"
      priority: "immediate"
      status: "complete"
      description: "Add guidance that AI should NOT create separate task.md or tracking files"
      rationale: "LEAP's stage artifacts and CURRENT_STATE.yaml are sufficient for progress tracking"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-18"
      completedDate: "2026-01-19"
      source: "Phase 4 lesson learned"
    
    - id: "GOV-002"
      name: "Gate Record Enforcement"
      category: "governance"
      priority: "immediate"
      status: "complete"
      description: "Template referenced in pulse-protocol gateRecords section with full spec"
      rationale: "Template exists, is referenced at point of use, spec includes location/naming/contents"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-18"
      completedDate: "2026-01-19"
      source: "Completed via Phase 12 template integration"
    
    - id: "VISION-001"
      name: "Define LEAP Vision"
      category: "governance"
      priority: "immediate"
      status: "complete"
      description: "Define what LEAP is - its purpose, target users, core functionality, and value proposition"
      rationale: "Project is marked 'pending-vision'. Cannot build meaningful features without knowing what we're building."
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-18"
      completedDate: "2026-01-18"
      source: "Clean room rebuild - vision reset"
  
    # -------------------------------------------------------------------------
    # Phase 17 Governance Process Improvements
    # -------------------------------------------------------------------------
    - id: "GOV-003"
      name: "Delivery Stage Tracking Sync"
      category: "governance"
      priority: "immediate"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 17"
      description: "Add mandatory backlog count verification to delivery completionCriteria"
      rationale: "Phase 16 ended with CURRENT_STATE showing wrong counts - sync not enforced"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Phase 16 retrospective"
      acceptanceCriteria: ["pulse-protocol.yaml delivery criteria includes count verification"]
    
    - id: "GOV-004"
      name: "Acceptance Criteria for Backlog"
      category: "governance"
      priority: "immediate"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 17"
      description: "Add acceptanceCriteria field to backlog item template"
      rationale: "No way to verify when backlog items are truly 'done'"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Phase 16 retrospective"
      acceptanceCriteria: ["backlog.yaml howToAdd template includes acceptanceCriteria field"]
    
    - id: "GOV-005"
      name: "Discovery Validation Rule"
      category: "governance"
      priority: "immediate"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 17"
      description: "Require source-document verification before claiming 'already done'"
      rationale: "Phase 16 Discovery claimed items done without checking original complaint"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Phase 16 retrospective"
      acceptanceCriteria: ["pulse-protocol.yaml discovery criteria includes source verification"]
    
    - id: "GOV-006"
      name: "Governance Is Code Principle"
      category: "governance"
      priority: "immediate"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 17"
      description: "Establish in constitution that LEAP governance YAML IS code - no skipping stages"
      rationale: "Stages 2-3 became compliance theatre because governance changes treated as 'less important'"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Phase 17 lesson learned"
      acceptanceCriteria: ["constitution.yaml governanceManagement section includes Governance Is Code principle", "scope explicitly limited to LEAP_Governance (not GoldSource)"]
    
    - id: "LEAP-033"
      name: "Implement Stage-Scoped Governance"
      category: "factory-governance"
      priority: "immediate"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 19"
      description: "Replace upfront governance reading with stage-specific governance files that bundle rules, examples, role ownership, and exit checklists"
      rationale: |
        Factory runs v2.0.0 and v2.0.1 showed compliance theater - artifacts claimed wireframes that don't exist, 
        naming rules violated, documentation not updated. Root cause: AI reads 1000+ lines upfront, forgets by Stage 5.
        Solution: Deliver governance at point of relevance with verification methods.
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-20"
      source: "Governance compliance audit discussion - 2026-01-20"
      completionNote: |
        Phase 19 implemented a lighter solution: FACTORY_TASK_TEMPLATE.md uses reading guide approach.
        Template points AI to relevant docs at each stage rather than creating 8 separate governance files.
        Achieves same goal (governance at point of need) with ~150 lines instead of 2100+.
      cleanupNote: |
        2026-01-20: Removed GoldSource/governance/stage-governance/ folder (contained only stage-5-implementation-governance.yaml).
        This was an unused prototype from the original design - never referenced in Factory governance docs.
  
  shortTerm:
    # -------------------------------------------------------------------------
    # Security & Quality Gaps (from Critical Review 2026-01-20)
    # -------------------------------------------------------------------------
    - id: "GOV-007"
      name: "Add Security Governance Layer"
      category: "governance"
      priority: "short-term"
      status: "proposed"
      description: "Add security-focused governance: Security Champion persona, RRMD+ security triggers, security review checklist, Constitution Rule 16"
      rationale: "Industry standards (2025-2026) require explicit security review for AI-generated code. LEAP's current governance doesn't address security vulnerabilities."
      acceptanceCriteria:
        - "Security Champion persona (#7) added to agent-persona.yaml"
        - "RRMD+ protocol includes security triggers (auth/data/API changes)"
        - "Security checklist created for pre-deployment gate"
        - "Constitution Rule 16: Security Review Gate added"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-20"
      source: "Critical Review: LEAP vs Industry Standards"
    
    - id: "GOV-008"
      name: "Define Automated Validation Checks"
      category: "governance"
      priority: "short-term"
      status: "superseded"
      supersededDate: "2026-01-20"
      supersededBy: "Existing browser console checks + overkill for demo factory"
      description: "Add automated quality gates to validation stage: lint checks, console error detection, structured test commands"
      rationale: "Industry standards include automated quality gates. Manual-only validation doesn't scale and allows human error."
      acceptanceCriteria:
        - "pulse-protocol.yaml validation stage includes automatedChecks section"
        - "Quality gate defined: all automated checks pass before delivery"
        - "Console error check via browser_subagent documented"
        - "Optional test commands documented for scaffold (npm run lint, npm test)"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-20"
      source: "Critical Review: LEAP vs Industry Standards"
      supersessionNote: "Console error checking already done via browser_subagent in testing stage. Lint/npm tooling not present in scaffold. Overkill for demo factory context."
    
    - id: "GOV-011"
      name: "Define Rollback Procedure"
      category: "governance"
      priority: "short-term"
      status: "superseded"
      supersededDate: "2026-01-20"
      supersededBy: "Git-based recovery is obvious and already documented"
      description: "Add explicit rollback procedure to safety-protocol.yaml with triggers, steps, and recovery guidance"
      rationale: "LEAP has backups and allows backward movement, but no explicit procedure for HOW to recover when validation fails or Hard Stop invoked."
      acceptanceCriteria:
        - "safety-protocol.yaml includes rollbackProcedure section"
        - "Triggers defined (validation failure, Hard Stop)"
        - "Explicit recovery steps documented"
        - "Prevent-reoccurrence guidance added"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-20"
      source: "Critical Review: LEAP vs Industry Standards"
      supersessionNote: "LEAP uses git for all changes. Rollback = git checkout or git revert. Constitution already allows backward stage movement. Documenting obvious git procedures adds minimal value."
    
    # -------------------------------------------------------------------------
    # Previously existing items
    # -------------------------------------------------------------------------
    - id: "ARCH-002"
      name: "MODULE_CONTRACT Validation"
      category: "architecture"
      priority: "short-term"
      status: "superseded"
      supersededDate: "2026-01-20"
      supersededBy: "Practical non-recurrence + Phase 19 reading guides"
      description: "Add enforcement mechanism to validate MODULE_CONTRACT.provides matches actual exports"
      rationale: "Factory modified mock-data.js but didn't update MODULE_CONTRACT - need automated check"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Phase 15 finding - deferred"
      supersessionNote: "No recurrence in 5+ Factory runs (v1.0.2, v1.0.3, v2.0.0, v2.0.1, v2.0.2). MODULE_CONTRACT pattern maintained without explicit enforcement."
    
    - id: "ARCH-003"
      name: "ARCHITECTURE.yaml Path Cleanup"
      category: "architecture"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-19"
      description: "Fix stale path references in ARCHITECTURE.yaml (e.g., DemoFactory/src/core/ → GoldSource/scaffold/core/)"
      rationale: "Cosmetic fix - old paths from pre-Gold Source restructure"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Phase 15 finding - deferred"
    
    - id: "USER-003"
      name: "NEXUS Branding Separation"
      category: "user-branding"
      priority: "short-term"
      status: "superseded"
      supersededDate: "2026-01-20"
      supersededBy: "Practical non-issue - not blocking workflows"
      description: "Decide if Gold Source scaffold should be NEXUS-branded or generic. Clarify LEAP vs Factory vs NEXUS product identity."
      rationale: "NEXUS branding appears across all three layers causing confusion"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Phase 15 finding - deferred"
      supersessionNote: "Branding confusion is cosmetic. Factory runs work correctly. No user-facing issues reported. Lower priority than functional improvements."
    
    # -------------------------------------------------------------------------
    # Factory Governance Items (from factory comparison)
    # -------------------------------------------------------------------------

    - id: "LEAP-001"
      name: "Create Stage Artifact Templates"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 16"
      description: "Create mandatory YAML templates for each of the 8 factory stages"
      rationale: "Both factory runs produced inconsistent artifact structures - templates will enforce consistency"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-002"
      name: "Enforce Gate Approval Recording"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 16"
      description: "Require gateApproval field in metadata after stage 1"
      rationale: "v1.0.1 lacked gate approval timestamps - creates audit trail for compliance"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-005"
      name: "Require Wireframes in Design Stage"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 16"
      description: "Make wireframes mandatory for UI features in stage 4"
      rationale: "v1.0.2 had wireframes, v1.0.1 did not - improves design clarity"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-006"
      name: "Standardize Test Case ID Format"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-19"
      completedIn: "Phase 16"
      description: "Use consistent TC-001 format for test case IDs"
      rationale: "v1.0.1 used 'T1 - Page Load', v1.0.2 used 'TC-001: Dashboard Load'"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-007"
      name: "Add Dependency Graph to Design"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "Require dependency graph section in stage 4 design"
      rationale: "v1.0.2 had dependency graph, v1.0.1 did not - helps AI understand relationships"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-008"
      name: "Require Complexity Estimates"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "Add complexity estimate section to design stage"
      rationale: "v1.0.2 had complexity estimates, v1.0.1 did not - improves planning accuracy"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-009"
      name: "Mandate Test Evidence Files"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "Require screenshots and recordings in testing stage, with defined storage location"
      rationale: "v1.0.2 had video recording in workspace, v1.0.1 only screenshots, v1.0.3 stored artifacts elsewhere - need consistent placement"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source:
        - "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
        - "FactoryTestRuns/factory-comparison-v1.0.2-vs-v1.0.3.yaml (DEV-007)"
    
    # -------------------------------------------------------------------------
    # Gold Source Scaffold Items (from demo output comparison)
    # -------------------------------------------------------------------------
    - id: "LEAP-003"
      name: "Standardize Feature Path Naming"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21 (verified already done)"
      description: "Define whether features use singular or plural naming (e.g., incident/ vs incidents/)"
      rationale: "v1.0.1 used singular, v1.0.2 used plural, v1.0.3 used singular again - AI cannot predict file locations"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source:
        - "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
        - "FactoryTestRuns/factory-comparison-v1.0.2-vs-v1.0.3.yaml (DEV-002)"
      verificationNote: "Already in architectural-standards.yaml phase18Conventions.pathNaming (line 135): 'Singular (features/incident/, not incidents/)'"
    
    - id: "LEAP-004"
      name: "Standardize Mock Data Strategy"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Define when to extend mock-data.js vs create feature-specific data files"
      rationale: "v1.0.1 created separate file, v1.0.2 extended mock-data.js - inconsistent structure"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-012"
      name: "Standardize State Shapes"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Define recommended state structure for common patterns (nested vs sibling)"
      rationale: "v1.0.1 used sibling state.incidentChat, v1.0.2 nested incidents.chat - harder to share learnings"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-016"
      name: "Define Service Function Patterns"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Standard function names for load, open, close, send patterns"
      rationale: "v1.0.1: loadIncidentData(), v1.0.2: loadIncidents() - cannot copy/paste between demos"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    - id: "LEAP-017"
      name: "Standardize Status/Enum Values"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Define case conventions for status strings (lowercase vs Title Case)"
      rationale: "v1.0.1: 'resolved' (lowercase), v1.0.2: 'Resolved' (Title Case) - status comparisons break"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    # -------------------------------------------------------------------------
    # Demo Output Standards (from demo output comparison)
    # -------------------------------------------------------------------------
    - id: "LEAP-014"
      name: "Require functionality.yaml in Demos"
      category: "demo-output"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21 (verified already done)"
      description: "Every demo output should include meta/functionality.yaml"
      rationale: "v1.0.2 had functionality.yaml documenting features, v1.0.1 did not"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
      verificationNote: "Already in artifact-manifest.yaml (lines 72-76) and lifecycle-stages.yaml Stage 5 outputs"
    
    - id: "LEAP-015"
      name: "Create README Template"
      category: "demo-output"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "Standardize demo README structure"
      rationale: "v1.0.1 had 109-line README, v1.0.2 had 83-line README - formats differ significantly"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
    
    # -------------------------------------------------------------------------
    # Archetype/Domain Items (from demo output comparison)
    # -------------------------------------------------------------------------
    - id: "LEAP-013"
      name: "Create Component HTML Templates"
      category: "archetype-domain"
      priority: "short-term"
      status: "superseded"
      supersededDate: "2026-01-20"
      supersededBy: "No recurrence in v2.0.x runs - Factory generates components correctly"
      description: "Define reusable HTML structures for cards, dialogs, lists"
      rationale: "v1.0.1 and v1.0.2 had different card HTML structures - CSS patterns not reusable"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
      supersessionNote: "Issue from v1.0.x era. Recent runs (v2.0.0, v2.0.1, v2.0.2) show Factory AI generates consistent component structures without templates."
    
    - id: "LEAP-018"
      name: "Create Domain Data Schemas"
      category: "archetype-domain"
      priority: "short-term"
      status: "superseded"
      supersededDate: "2026-01-20"
      supersededBy: "No recurrence in v2.0.x runs - Factory follows existing patterns"
      description: "Define incident, task, user data shapes in archetypes"
      rationale: "v1.0.1: impactedServices (array), v1.0.2: affectedService (string) - cannot share mock data"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/demo-output-comparison-v1.0.1-vs-v1.0.2.yaml"
      supersessionNote: "Issue from v1.0.x era. Recent runs show Factory AI reads existing data patterns and follows them consistently."
    
    # -------------------------------------------------------------------------
    # From v1.0.2 vs v1.0.3 Comparison
    # -------------------------------------------------------------------------
    - id: "LEAP-019"
      name: "Component Creation vs Modification Policy"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "Define when factory agents should create new components vs modify existing flexible components"
      rationale: "v1.0.2 created new incident-cards component, v1.0.3 modified existing data-cards - need clear decision criteria"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.2-vs-v1.0.3.yaml (DEV-001)"
      acceptanceCriteria:
        - "architectural-standards.yaml includes component creation decision tree"
        - "Clear criteria for 'create new' vs 'modify existing'"
    
    - id: "LEAP-021"
      name: "Standardize Analysis Approach Format"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "Update stage-3-analysis template with consistent approach comparison structure"
      rationale: "v1.0.2 used optionA/optionB within sections, v1.0.3 used APPROACH-A/B/C as top-level - inconsistent structure"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.2-vs-v1.0.3.yaml (DEV-005)"
      acceptanceCriteria:
        - "stage-3-analysis.yaml template has standardized approach comparison section"
    
    - id: "LEAP-022"
      name: "Enhance Validation Matrix Template"
      category: "factory-governance"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "Adopt v1.0.3's detailed field-by-field validation approach as standard"
      rationale: "v1.0.3 had thorough validation matrix with data model check, v1.0.2 had basic requirements list"
      estimatedEffort: "small"
      dependencies: ["LEAP-001"]
      addedDate: "2026-01-19"
      source: "FactoryTestRuns/factory-comparison-v1.0.2-vs-v1.0.3.yaml (DEV-006)"
      acceptanceCriteria:
        - "stage-6-validation.yaml template includes detailed feature validation matrix"
        - "Template includes data model validation section"
    
    - id: "LEAP-024"
      name: "Gold Source Compliance Check in Factory Review"
      category: "factory-test-runs"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Quick implementation (LEAP-024 + LEAP-025)"
      description: "Add step to factory-review-workflow comparing demo output against Gold Source scaffold to detect regression/drift"
      rationale: "Current workflow compares Run N vs Run N-1, but doesn't verify Factory follows Gold Source conventions (locked files, naming, structure)"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Process discussion - session 2026-01-19"
      acceptanceCriteria:
        - "factory-review-workflow.yaml includes Step 3b: Gold Source Compliance Check"
        - "Comparison template created for demo-vs-goldsource analysis"
        - "Focus areas defined: locked files, naming conventions, structural patterns"
    
    - id: "LEAP-027"
      name: "Define AI Service Pattern"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Standardize when to use dedicated AI service wrapper vs inline AI logic in feature modules"
      rationale: "v2.0.0 created separate incident-ai-service.js, v2.0.1 inlined AI suggestions into data file - need clear guidance"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-20"
      source: "FactoryTestRuns/factory-comparison-v2.0.0-vs-v2.0.1.yaml (DEV-001)"
      acceptanceCriteria:
        - "architectural-standards.yaml includes AI service pattern guidance"
        - "Clear criteria for dedicated service vs inline approach"
    
    - id: "LEAP-029"
      name: "Add Path Depth Table to ARCHITECTURE.yaml"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Document relative path depths for all folder locations in Gold Source scaffold"
      rationale: "v2.0.0 had import path errors due to undocumented depth - core=1, features/name=2, ui/components/name=3"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-20"
      source: "FactoryTestRuns/factory-comparison-v2.0.0-vs-v2.0.1.yaml (CR-002)"
      acceptanceCriteria:
        - "GoldSource/meta/ARCHITECTURE.yaml includes pathDepths section"
        - "All folder locations documented with correct relative depth"
    
    - id: "LEAP-025"
      name: "Formalize Backlog Deduplication Step"
      category: "factory-test-runs"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Quick implementation (LEAP-024 + LEAP-025)"
      description: "Add explicit deduplication step to factory-review-workflow before adding new backlog items"
      rationale: "Currently done ad-hoc; need formal step to check each finding against existing backlog (duplicate/overlap/new)"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-19"
      source: "Process discussion - session 2026-01-19"
      acceptanceCriteria:
        - "factory-review-workflow.yaml Step 5 includes deduplication checklist"
        - "Outcomes defined: Duplicate (don't add), Overlapping (merge), New (add)"
        - "Decision documentation required for each finding"
  
    - id: "LEAP-030"
      name: "Require Keyboard Accessibility in Components"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 21"
      description: "All interactive components must support keyboard navigation (Enter/Space for click targets)"
      rationale: "v2.0.1 lost keyboard accessibility that v2.0.0 had - accessibility regression"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-20"
      source: "FactoryTestRuns/demo-output-comparison-v2.0.0-vs-v2.0.1.yaml (CODE-003)"
      acceptanceCriteria:
        - "architectural-standards.yaml includes accessibility requirements section"
        - "Component template includes keyboard handler example"
    
    - id: "LEAP-031"
      name: "Standardize Component Initialization Pattern"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Define when to use lazy init (create on first use) vs explicit init (init function called at startup)"
      rationale: "v2.0.0 used lazy dialog creation, v2.0.1 used explicit initIncidentDialog() - need clear guidance"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-20"
      source: "FactoryTestRuns/demo-output-comparison-v2.0.0-vs-v2.0.1.yaml (CODE-005)"
      acceptanceCriteria:
        - "architectural-standards.yaml includes component initialization guidance"
        - "Clear criteria for lazy vs explicit init pattern"
    
    - id: "LEAP-032"
      name: "Add State Extension Mechanism"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Add mechanism for features to register state slices without modifying locked state.js"
      rationale: |
        v2.0.2 Factory AI discovered state.js is locked but has no extension mechanism.
        Features must create parallel state systems (local state with subscription pattern),
        causing fragmented state management. Need registerStateSlice() or similar pattern.
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-20"
      source: "FactoryTestRuns/factory-comparison-v2.0.1-vs-v2.0.2.yaml"
      acceptanceCriteria:
        - "state.js exports registerStateSlice(name, initialState, setters) or equivalent"
        - "Registered slices accessible via getState('sliceName')"
        - "Subscribers notified of slice changes"
        - "Pattern documented in architectural-standards.yaml"
    
    - id: "LEAP-034"
      name: "Audit Locked Files for Extension Gaps"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 20"
      description: "Review all locked files to ensure they have proper extension mechanisms for Factory use"
      rationale: |
        state.js is locked but lacked extension capability, forcing v2.0.2 to create workaround.
        Other locked files (firebase.js, constants.js, logger.js, CSS files) may have similar gaps
        where Factory needs to extend functionality but cannot modify locked files.
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-20"
      source: "v2.0.2 factory run analysis"
      acceptanceCriteria:
        - "All locked files audited for extension needs"
        - "Extension points documented for each locked file"
        - "Gaps identified and added as individual backlog items"
        - "architectural-standards.yaml updated with extension patterns"
    
    - id: "LEAP-035"
      name: "Authentication System Enhancement"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "proposed"
      description: "Complete auth system: user profile creation, password reset, domain validation, accessibility"
      rationale: "Current scaffold has working login/signup but missing 5 key features per SPEC-001 analysis"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-20"
      source: "Sprint Functional Spec SPEC-001 v3.2"
      functionalSpec: "LEAP_Governance/SprintFunctionalSpecs/SPEC-001-authentication.yaml"
      acceptanceCriteria:
        - "FR-001: Signup creates user profile in Firestore /users/{uid}"
        - "FR-002: Forgot Password link added to login.html"
        - "FR-003/FR-004: Password reset shows inline success/error messages (no alert())"
        - "FR-005: Domain validation restricts to @servicenow.com by default"
        - "FR-006: ARIA labels on all form inputs + role='alert' on error container"

    - id: "LEAP-036"
      name: "Design System Enhancement (Phase 1)"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-20"
      completedIn: "Phase 22"
      description: "Core visual polish: plasma bubbles background, light theme glass fix, animation utilities"
      rationale: "GoldSource scaffold looks static - demos need animated background and working light theme"
      estimatedEffort: "small"
      dependencies: []
      addedDate: "2026-01-20"
      source: "Sprint Functional Spec SPEC-002 v2.1"
      functionalSpec: "LEAP_Governance/SprintFunctionalSpecs/SPEC-002-design-system.yaml"
      acceptanceCriteria:
        - "FR-001: Animated plasma bubbles in background (both themes)"
        - "FR-002: Light theme glass fix (not washed out)"
        - "FR-006: Brand color system (3 vars control entire app)"
        - "FR-003: .animate-in utility class"
        - "FR-004: .hover-lift utility class"
        - "FR-005: Button :active press feedback"

    - id: "LEAP-037"
      name: "Extensible App Shell"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-21"
      completedIn: "Phase 23"
      description: "Transform index.html into extensible scaffold with customer logo, page tabs, settings, extensible sidebar"
      rationale: "Current shell requires too many edits for each demo - need config-driven extensibility"
      estimatedEffort: "medium"
      dependencies: []
      addedDate: "2026-01-20"
      source: "Sprint Functional Spec SPEC-003 v1.0"
      functionalSpec: "LEAP_Governance/SprintFunctionalSpecs/SPEC-003-app-shell.yaml"
      acceptanceCriteria:
        - "FR-001: Customer logo slot (image, not text) ✅"
        - "FR-002: Page switcher tabs in header ✅"
        - "FR-005: Extensible sidebar nav via config ✅"
        - "FR-007: Multi-page canvas system ✅"
        - "FR-003: AI search box slot (should-have) ✅"
        - "FR-004: Settings panel (should-have) ✅"

    - id: "LEAP-038"
      name: "Data Conventions"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "proposed"
      description: "Firestore data patterns: user profiles, preferences sync, ring-fenced data, service template"
      rationale: "Establish data conventions now so all future specs follow consistent patterns"
      estimatedEffort: "small"
      dependencies: ["LEAP-035"]  # Auth creates user profile
      addedDate: "2026-01-20"
      source: "Sprint Functional Spec SPEC-004 v1.0"
      functionalSpec: "LEAP_Governance/SprintFunctionalSpecs/SPEC-004-data-conventions.yaml"
      acceptanceCriteria:
        - "FR-001: User profile created in Firestore on signup"
        - "FR-002: User preferences stored in Firestore"
        - "FR-003: Ring-fenced data convention documented"
        - "FR-005: Theme preference syncs across devices"

    - id: "LEAP-039"
      name: "Design System Enhancement (Phase 2)"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "proposed"
      description: "Deferred visual polish from SPEC-002: State patterns, confetti, glass variations"
      rationale: "6 items deferred from SPEC-002 Phase 1 to reduce scope - captured here for future implementation"
      estimatedEffort: "medium"
      dependencies: ["LEAP-036"]  # Phase 1 complete
      addedDate: "2026-01-20"
      source: "Sprint Functional Spec SPEC-002 DEFER items"
      functionalSpec: "LEAP_Governance/SprintFunctionalSpecs/SPEC-002-design-system.yaml"
      deferredFrom: "Phase 22 (SPEC-002 Phase 1)"
      acceptanceCriteria:
        - "DEFER-001: Loading State Pattern (.loading skeleton)"
        - "DEFER-002: Empty State Pattern (.empty-state)"
        - "DEFER-003: Error State Pattern (.error-state)"
        - "DEFER-004: Priority Color System (card severity colors)"
        - "DEFER-005: Glass Variations (.glass-subtle, .glass-heavy)"
        - "DEFER-006: Confetti Celebration (canvas-confetti integration)"

    - id: "LEAP-040"
      name: "Theme/Design System Factory Documentation"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-21"
      completedIn: "Phase 25"
      description: "Create Factory-visible documentation for theme extension, brand customization, and design utilities"
      rationale: |
        Audit revealed comprehensive documentation exists (SPEC-002, design-system.yaml) but is scattered
        and not fully visible to Factory AI. Factory only reads GoldSource/meta/* and GoldSource/governance/*.
        Key gaps: no "How to Extend Theme" guide, light theme under-documented, brand customization not obvious,
        glass/animation utility patterns not explained in meta docs.
      acceptanceCriteria:
        - "GoldSource/meta/theme-extension-guide.yaml created with step-by-step examples"
        - "Brand customization workflow documented (--brand-primary, --brand-secondary, --brand-accent)"
        - "Glass utility patterns documented (.glass, light theme differences)"
        - "Animation utility patterns documented (.animate-in, .hover-lift)"
        - "Light theme quirks documented (different glass values, blend modes)"
      estimatedEffort: "small"
      dependencies: ["LEAP-036"]  # Design System Phase 1 complete
      addedDate: "2026-01-20"
      source: "Theme/Design System documentation audit - 2026-01-20"

    - id: "LEAP-041"
      name: "Login Page Cleanup"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "proposed"
      description: "Clean up login.html for consistency with index.html and code quality"
      rationale: |
        Forensic audit of Phase 22 revealed login.html is inconsistent with index.html:
        - Missing plasma background (index.html has it)
        - ~90 lines inline styles (should be separate CSS file)
        - Inline onclick handler (should use addEventListener)
        - Missing AI-First header comments
        - Theme system should initialize from system preference (verify working)
      acceptanceCriteria:
        - "login.html has plasma background matching index.html"
        - "Inline styles moved to ui/components/login/login.css"
        - "Inline onclick replaced with addEventListener in login.js"
        - "AI-First header added to login.html"
        - "Verified: theme initializes from system preference on first load"
      estimatedEffort: "small"
      dependencies: ["LEAP-036"]  # Design System Phase 1 complete
      addedDate: "2026-01-20"
      source: "Forensic audit of Phase 22 - 2026-01-20"

    - id: "LEAP-042"
      name: "AI Search Interactions"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "proposed"
      description: "Implement AI Search UX: expanded modal, keyboard shortcut (⌘K), blur overlay, escape to close"
      rationale: |
        SPEC-003 Q-002 decision: AI Search in App Shell is slot-only (input box).
        Full interactions deferred to future phase. Prototype has working implementation
        that can be extracted when this backlog item is prioritized.
      acceptanceCriteria:
        - "⌘K / Ctrl+K keyboard shortcut opens expanded search modal"
        - "ESC closes expanded search"
        - "Click outside modal closes it"
        - "Focus automatically moves to search input when modal opens"
        - "Blur overlay behind modal"
      estimatedEffort: "small"
      dependencies: ["LEAP-037"]  # App Shell (provides the slot)
      addedDate: "2026-01-21"
      source: "SPEC-003 forensic review - Q-002 decision"

    - id: "LEAP-043"
      name: "Document Page Registration Pattern"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-21"
      completedIn: "Phase 24"
      description: "Add 'Page Registration Pattern' section to GoldSource/meta/architectural-standards.yaml"
      rationale: |
        Phase 23 implemented a config-driven extensibility pattern using PAGE_TABS and PAGE_SIDEBAR_ACTIONS 
        arrays. This pattern enables Factory to add pages/actions via config-only changes, but the pattern 
        is not documented in architectural-standards.yaml where Factory AI looks for guidance.
      acceptanceCriteria:
        - "GoldSource/meta/architectural-standards.yaml includes 'Page Registration Pattern' section"
        - "PAGE_TABS array pattern documented with required fields (id, label, icon)"
        - "PAGE_SIDEBAR_ACTIONS config pattern documented"
        - "Example showing how Factory adds new pages"
      estimatedEffort: "small"
      dependencies: ["LEAP-037"]  # App Shell (created the pattern)
      addedDate: "2026-01-21"
      source: "Phase 23 closure - pending governance update"

    - id: "LEAP-044"
      name: "Document Phase 22 Design Patterns"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-21"
      completedIn: "Phase 24"
      description: "Update GoldSource/meta/design-system.yaml with Phase 22 patterns (plasma, brand colors, animations)"
      rationale: |
        Phase 22 added plasma background, 3-color brand system, and animation utilities.
        These are not documented in design-system.yaml where Factory AI looks for styling guidance.
        Without docs, Factory may create static backgrounds or hardcode colors.
      acceptanceCriteria:
        - "design-system.yaml includes plasmaBackground section with usage instructions"
        - "design-system.yaml includes brandCustomization section with 3-color system"
        - "design-system.yaml includes animationUtilities section (.animate-in, .hover-lift)"
        - "Light theme glass differences documented"
      estimatedEffort: "small"
      dependencies: ["LEAP-036"]  # Design System Phase 1 (created the patterns)
      addedDate: "2026-01-21"
      source: "Factory Governance Impact Report - GAP-002, GAP-003, GAP-004"

    - id: "LEAP-045"
      name: "Document Phase 23 Shell Patterns"
      category: "scaffold-conventions"
      priority: "short-term"
      status: "complete"
      completedDate: "2026-01-21"
      completedIn: "Phase 24"
      description: "Update GoldSource/meta/functionality.yaml and architectural-standards.yaml with Phase 23 patterns"
      rationale: |
        Phase 23 added settings dialog, multi-page canvas, and redesigned floating sidebar.
        Functionality.yaml still describes old sidebar (push/pull). Architectural-standards.yaml
        lacks multi-page system docs. Factory AI will be confused about current scaffold capabilities.
      acceptanceCriteria:
        - "functionality.yaml SHELL-001 updated to describe floating pill sidebar"
        - "functionality.yaml includes SHELL-002 for Settings Dialog"
        - "architectural-standards.yaml includes multiPageSystem section"
        - "Breaking changes from Phase 23 reflected in docs"
      estimatedEffort: "small"
      dependencies: ["LEAP-037"]  # App Shell (created the patterns)
      addedDate: "2026-01-21"
      source: "Factory Governance Impact Report - GAP-005, GAP-006, GAP-007"
  
  mediumTerm: []
  future: []

howToAdd:
  templateRef: "LEAP_Governance/templates/tracking.yaml"
  categoriesRef: "LEAP_Governance/tracking/backlog-categories.yaml"
  template: |
    - id: "FEATURE-XXX"
      name: "Feature name"
      category: "[category-id from backlog-categories.yaml]"
      priority: "immediate|short-term|medium-term|future"
      status: "proposed|approved|in-progress|complete"
      description: "What this feature does"
      rationale: "Why this feature is needed"
      acceptanceCriteria: ["Verifiable condition 1", "Verifiable condition 2"]
      estimatedEffort: "small|medium|large"
      dependencies: []
      addedDate: "YYYY-MM-DD"
      source: "[Reference to finding or conversation]"

