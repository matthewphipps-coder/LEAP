metadata:
  type: "state"
  purpose: "Single source of truth for current LEAP work"
  lastUpdated: "2026-01-20T17:25:00Z"
  version: "4.2.0"

aiMustRead:
  - "READ THIS FILE FIRST - at start of every session"
  - "This tells you exactly where we are"
  - "Never assume - check this file for truth"
  - "Update this after every major decision or phase transition"

projectContext:
  name: "LEAP"
  tagline: "AI-First DemoFactory Build & Control Project"
  version: "v1.1.0"
  currentFocus: "Phase 21: Standards & Templates - Discovery stage"
  vision: "AI Speed + Governance Rigor - see Tracking/VISION.yaml"

currentPhase:
  number: "21"
  name: "StandardsAndTemplates"
  status: "in-progress"
  stage: "testing"
  startedDate: "2026-01-20T17:24:00Z"
  
  goal: "Complete documentation standards for Factory templates, scaffold conventions, and demo output requirements"
  
  stageArtifact: "docs/phases/phase-21/stage-7-testing.yaml"
  
  researchFindings:
    originalScope: 10
    alreadyComplete: 2
    itemsNeedingWork: 8
    completedItems: ["LEAP-003 (path naming)", "LEAP-014 (functionality.yaml)"]
  
  previousPhase:
    number: "20"
    name: "ScaffoldFoundation"
    status: "complete"
    executiveSignOff: "Granted by Matthew Phipps"
  
  # Sprint: Standards & Templates (10 items, all documentation)
  sprintScope:
    name: "Standards & Templates"
    approach: "Documentation sprint - all small effort items"
    rationale: "Natural grouping: Factory templates + scaffold rules + demo output"
    
    items:
      # Sub-Phase A: Factory Stage Templates
      - id: "LEAP-007"
        name: "Add Dependency Graph to Design"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/governance/templates/stage-4-design.yaml"
      
      - id: "LEAP-008"
        name: "Require Complexity Estimates"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/governance/templates/stage-4-design.yaml"
      
      - id: "LEAP-009"
        name: "Mandate Test Evidence Files"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/governance/templates/stage-7-testing.yaml"
      
      - id: "LEAP-021"
        name: "Standardize Analysis Approach Format"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/governance/templates/stage-3-analysis.yaml"
      
      - id: "LEAP-022"
        name: "Enhance Validation Matrix Template"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/governance/templates/stage-6-validation.yaml"
      
      # Sub-Phase B: Scaffold Conventions
      - id: "LEAP-003"
        name: "Standardize Feature Path Naming"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/meta/architectural-standards.yaml"
      
      - id: "LEAP-019"
        name: "Component Creation vs Modification Policy"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/meta/architectural-standards.yaml"
      
      - id: "LEAP-030"
        name: "Require Keyboard Accessibility"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/meta/architectural-standards.yaml"
      
      # Sub-Phase C: Demo Output
      - id: "LEAP-014"
        name: "Require functionality.yaml in Demos"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/governance/lifecycle-stages.yaml"
      
      - id: "LEAP-015"
        name: "Create README Template"
        effort: "Small"
        type: "documentation"
        target: "GoldSource/governance/templates/README.md"
    
    subPhases:
      A: 
        name: "Factory Stage Templates"
        items: ["LEAP-007", "LEAP-008", "LEAP-009", "LEAP-021", "LEAP-022"]
        focus: "Enhance stage templates with missing sections"
      B:
        name: "Scaffold Conventions"
        items: ["LEAP-003", "LEAP-019", "LEAP-030"]
        focus: "Clarify rules Factory AI should follow"
      C:
        name: "Demo Output"
        items: ["LEAP-014", "LEAP-015"]
        focus: "Define what demos must include"
    
    validation:
      method: "Factory run v2.0.3 after sprint completion"
      goal: "Validate documentation is actionable"
      validates: "Templates used correctly AND conventions followed"

currentActivity:
  status: "phase-21-discovery"
  summary: "Discovery stage - 10 backlog items documented with research questions"
  
  recentWork:
    date: "2026-01-20"
    session: "Phase 21 Discovery"
    description: "Created stage-1-discovery.yaml with full scope, sub-phases, and 'already done' verification plan"
    
    sessionChanges:
      filesModified:
        - "LEAP_Governance/tracking/CURRENT_STATE.yaml"
      filesCreated:
        - "docs/phases/phase-21/stage-1-discovery.yaml"
      keyDecisions:
        - "10 documentation items in single phase"
        - "3 sub-phases: Factory Templates (5), Scaffold Conventions (3), Demo Output (2)"
        - "3 items need 'already done' verification in Research stage"

factoryRunsCompleted:
  - demo: "NEXUS v0.0.1-firstTest"
    location: "~/Documents/DemoOutput/Nexus 0.0.1-firstTest/"
    factoryWorkspace: "~/Documents/DemoInstances/Factory-Test-001/"
    note: "First test run - ignored in comparison"
  
  - demo: "NEXUS v1.0.1-major-incident"
    location: "~/Documents/DemoOutput/NEXUS-v1.0.1-major-incident/"
    factoryWorkspace: "~/Documents/DemoInstances/Factory-v1.0.1-major-incident/"
    testsRun: 10
    testsPassed: 10
  
  - demo: "NEXUS v1.0.2-major-incident"
    location: "~/Documents/DemoOutput/NEXUS-v1.0.2-major-incident/"
    factoryWorkspace: "~/Documents/DemoInstances/Factory-v1.0.2-major-incident/"
    testsRun: 8
    testsPassed: 8
  
  - demo: "NEXUS v1.0.3-major-incident"
    location: "~/Documents/DemoOutput/NEXUS-v1.0.3-major-incident/"
    factoryWorkspace: "~/Documents/DemoInstances/Factory-v1.0.3-major-incident/"
    testsRun: 10
    testsPassed: 10
    addedDate: "2026-01-19"
  
  - demo: "NEXUS v2.0.0-major-incident"
    location: "~/Documents/DemoOutput/NEXUS-v2.0.0-major-incident/"
    factoryWorkspace: "~/Documents/DemoInstances/Factory-v2.0.0-major-incident/"
    testsRun: 8
    testsPassed: 8
    addedDate: "2026-01-20"
    note: "First run on Gold Source v2.0 scaffold"
  
  - demo: "NEXUS v2.0.1-major-incident"
    location: "~/Documents/DemoOutput/NEXUS-v2.0.1-major-incident/"
    factoryWorkspace: "~/Documents/DemoInstances/Factory-v2.0.1-major-incident/"
    testsRun: 8
    testsPassed: 8
    addedDate: "2026-01-20"
    note: "Second run on Gold Source v2.0 scaffold"
  
  - demo: "NEXUS v2.0.2-major-incident"
    location: "~/Documents/DemoOutput/NEXUS-v2.0.2-major-incident/"
    factoryWorkspace: "~/Documents/DemoInstances/Factory-v2.0.2-major-incident/"
    testsRun: 5
    testsPassed: 5
    addedDate: "2026-01-20"
    note: "First run using FACTORY_TASK_TEMPLATE.md - compliance validated"
  
  nextRun: "v2.0.3 - validate Phase 21 documentation improvements"

backlogState:
  totalItems: 41
  complete: 21
  inProgress: 10  # Phase 21 scope
  proposed: 9
  superseded: 1
  
  phase21Scope:
    inProgress:
      - "LEAP-007 - Add Dependency Graph to Design"
      - "LEAP-008 - Require Complexity Estimates"
      - "LEAP-009 - Mandate Test Evidence Files"
      - "LEAP-021 - Standardize Analysis Approach Format"
      - "LEAP-022 - Enhance Validation Matrix Template"
      - "LEAP-003 - Standardize Feature Path Naming"
      - "LEAP-019 - Component Creation vs Modification Policy"
      - "LEAP-030 - Require Keyboard Accessibility"
      - "LEAP-014 - Require functionality.yaml in Demos"
      - "LEAP-015 - Create README Template"
    
    alreadyDoneVerification:
      - id: "LEAP-003"
        claim: "Phase 19 note claims already in architectural-standards.yaml"
      - id: "LEAP-019"
        claim: "Phase 19 note claims in demo-rules.yaml"
      - id: "LEAP-014"
        claim: "May already be in artifact-manifest.yaml"
  
  categoriesFile: "LEAP_Governance/tracking/backlog-categories.yaml"
  backlogFile: "LEAP_Governance/tracking/backlog.yaml"

references:
  governanceFiles:
    - "constitution.yaml - Partnership rules"
    - "pulse-protocol.yaml - Development methodology"
    - "safety-protocol.yaml - Backup and deployment"
    - "architectural-standards.yaml - Code patterns"
  
  phase21Targets:
    factoryTemplates:
      - "GoldSource/governance/templates/stage-3-analysis.yaml"
      - "GoldSource/governance/templates/stage-4-design.yaml"
      - "GoldSource/governance/templates/stage-6-validation.yaml"
      - "GoldSource/governance/templates/stage-7-testing.yaml"
    scaffoldConventions:
      - "GoldSource/meta/architectural-standards.yaml"
    demoOutput:
      - "GoldSource/governance/lifecycle-stages.yaml"
      - "GoldSource/governance/templates/README.md"

aiReminders:
  - "Phase 21 IN PROGRESS - Standards & Templates"
  - "10 documentation items (all Small effort)"
  - "NO code changes - docs only"
  - "Sub-phases: A (Factory Templates), B (Scaffold Conventions), C (Demo Output)"
  - "3 items need 'already done' verification in Research stage"
  - "Validation: Factory run v2.0.3 after sprint"
  - "7 factory runs complete (v0.0.1 â†’ v2.0.2)"
