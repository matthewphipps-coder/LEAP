metadata:
  type: "stage-artifact"
  phase: 24
  phaseName: "FactoryGovernance"
  stage: 4
  stageName: "design"
  created: "2026-01-21T06:38:00Z"
  status: "pending-approval"

# =============================================================================
# IMPLEMENTATION PLAN
# =============================================================================

goal: "Update GoldSource governance docs to reflect Phase 22/23 patterns"

backlogItems:
  - "LEAP-043: Document Page Registration Pattern"
  - "LEAP-044: Document Phase 22 Design Patterns"
  - "LEAP-045: Document Phase 23 Shell Patterns"

# =============================================================================
# PROPOSED CHANGES
# =============================================================================

proposedChanges:

  # ---------------------------------------------------------------------------
  # LEAP-044: Phase 22 Design Patterns
  # ---------------------------------------------------------------------------
  - file: "2_GoldSource/meta/design-system.yaml"
    action: "MODIFY"
    changes:
      - section: "plasmaBackground (NEW)"
        content: |
          - Purpose: Animated background effect
          - Files: plasma.css, variables.css (--plasma-1/2/3)
          - Usage: Add .plasma-background container with .plasma-bubble children
          - Customization: Override --plasma-1/2/3 vars (derived from brand colors)
          - Light theme: Reduced opacity (0.15) via .light-theme overrides
      
      - section: "brandColorSystem (NEW)"
        content: |
          - Variables: --brand-primary, --brand-secondary, --brand-accent
          - Default: green (#62d84e), purple (#8b5cf6), sky (#38bdf8)
          - Impact: Plasma bubbles, accent highlights
          - Customization: Override in :root or via settings dialog
      
      - section: "animationUtilities (NEW)"
        content: |
          - .animate-in: Fade-up entrance with staggered delays (nth-child)
          - .hover-lift: Subtle lift on hover with shadow
          - Button :active: Scale down feedback
          - File: animations.css

  # ---------------------------------------------------------------------------
  # LEAP-045: Phase 23 Shell Patterns - functionality.yaml
  # ---------------------------------------------------------------------------
  - file: "2_GoldSource/meta/functionality.yaml"
    action: "MODIFY"
    changes:
      - section: "SHELL-001 (REWRITE)"
        before: |
          Dashboard Layout: Header + Sidebar + Canvas
          Collapsible sidebar with navigation
        after: |
          Dashboard Layout: Header + Floating Sidebar + Multi-Page Canvas
          Floating pill sidebar with contextual per-page actions
          Multi-page system with page containers
      
      - section: "SHELL-002 (NEW)"
        content: |
          Settings Dialog: Modal settings with appearance and branding
          Files: settings-ui.js, settings.css
          Capabilities: Theme selection, brand colors, workspace branding

  # ---------------------------------------------------------------------------
  # LEAP-043 + LEAP-045: Page Registration Pattern
  # ---------------------------------------------------------------------------
  - file: "2_GoldSource/meta/architectural-standards.yaml"
    action: "MODIFY"
    changes:
      - section: "pageRegistrationPattern (NEW after phase18Conventions)"
        content: |
          - PAGE_TABS: Array in constants.js defining header tabs
            - Required fields: id, icon, label
            - Optional: badge (count badge)
          - PAGE_SIDEBAR_ACTIONS: Object mapping pageId to action arrays
            - Required fields: id, icon, label
          - SETTINGS_MENU: Settings dialog menu structure
          - Factory usage: Append to PAGE_TABS, add key to PAGE_SIDEBAR_ACTIONS

      - section: "multiPageSystem (NEW)"
        content: |
          - Page containers: .page elements with data-page attribute
          - Active page: .page.active
          - Page router: core/page-router.js (selectTab function)
          - Sidebar updates: updateSidebarForPage(pageId) called on tab switch

# =============================================================================
# ESTIMATED EFFORT
# =============================================================================

effort:
  total: "Small (documentation only)"
  breakdown:
    - "design-system.yaml: ~60 lines added"
    - "functionality.yaml: ~40 lines modified/added"
    - "architectural-standards.yaml: ~50 lines added"

# =============================================================================
# VERIFICATION PLAN
# =============================================================================

verificationPlan:
  - "All LEAP-043 acceptance criteria met"
  - "All LEAP-044 acceptance criteria met"
  - "All LEAP-045 acceptance criteria met"
  - "No syntax errors in YAML files"
  - "Patterns documented match actual code"

status: "pending-approval"
