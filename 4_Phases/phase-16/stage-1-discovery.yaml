metadata:
  type: "artifact"
  phase: 16
  stage: "discovery"
  name: "Factory Governance Templates"
  created: "2026-01-19"
  version: "1.0.0"

lifecycle:
  currentStage: "discovery"
  status: "complete"
  nextStage: "research"

humanInterface:
  checkpointRequired: true
  nextCheckpoint: "Approve discovery findings before research"
  context: "Phase 16 initiated to address factory governance gaps"

# =============================================================================
# DISCOVERY STAGE
# =============================================================================

discovery:
  
  problemStatement:
    summary: "Factory runs produce inconsistent artifacts - no standard templates"
    evidence:
      - "v1.0.1 lacked gate approval timestamps"
      - "v1.0.1 lacked wireframes in design stage"
      - "Test case ID formats varied between runs"
      - "Dependency graphs present in v1.0.2 but not v1.0.1"
    source: "FactoryTestRuns/factory-comparison-v1.0.1-vs-v1.0.2.yaml"
  
  scope:
    included:
      - id: "LEAP-001"
        name: "Create Stage Artifact Templates"
        effort: "medium"
        description: "Create mandatory YAML templates for each of the 8 factory stages"
      
      - id: "LEAP-002"
        name: "Enforce Gate Approval Recording"
        effort: "small"
        depends: "LEAP-001"
        description: "Require gateApproval field in metadata after stage 1"
      
      - id: "LEAP-005"
        name: "Require Wireframes in Design Stage"
        effort: "small"
        depends: "LEAP-001"
        description: "Make wireframes mandatory for UI features in stage 4"
      
      - id: "LEAP-006"
        name: "Standardize Test Case ID Format"
        effort: "small"
        depends: "LEAP-001"
        description: "Use consistent TC-001 format for test case IDs"
    
    excluded:
      - "LEAP-003, LEAP-004 (scaffold conventions - deferred)"
      - "LEAP-007, LEAP-008, LEAP-009 (factory governance - future phases)"
      - "All architecture, branding, demo-output items"

# =============================================================================
# DISCOVERY FINDINGS
# =============================================================================

discoveryFindings:
  
  templatesAlreadyExist:
    location: "2_GoldSource/governance/templates/"
    files:
      - "stage-1-discovery.yaml"
      - "stage-2-research.yaml"
      - "stage-3-analysis.yaml"
      - "stage-4-design.yaml"
      - "stage-5-implementation.yaml"
      - "stage-6-validation.yaml"
      - "stage-7-testing.yaml"
      - "stage-8-closure.yaml"
    
    implication: "LEAP-001 is ALREADY DONE - templates exist"
  
  gapAnalysis:
    LEAP002_GateApproval:
      finding: "No standardized gateApproval field in metadata templates"
      currentState: "Some stages have nextStage.requires but no record of approval"
      action: "Add gateApproval section to all post-stage-1 templates"
    
    LEAP005_Wireframes:
      finding: "stage-4-design.yaml ALREADY has wireframes section"
      currentState: "Lines 17-25 include wireframes requirement with saveLocation"
      action: "ALREADY DONE - template includes wireframes requirement"
    
    LEAP006_TestCaseIDs:
      finding: "stage-7-testing.yaml uses TEST-001/EDGE-001 format, not TC-001"
      currentState: "Inconsistent with TC-001 format from backlog"
      action: "Standardize to TC-001 format in template"
  
  revisedScopeAssessment:
    LEAP001: "ALREADY DONE - templates exist"
    LEAP002: "NEEDED - add gateApproval to templates"
    LEAP005: "ALREADY DONE - wireframes in stage-4-design.yaml"
    LEAP006: "NEEDED - fix test case ID format"

gateRecord:
  transition: "none â†’ discovery"
  timestamp: "2026-01-19T18:54:34Z"
  authorization: "User requested: 'Let's take these into phase discovery'"
